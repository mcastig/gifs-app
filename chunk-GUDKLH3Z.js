import{b as R}from"./chunk-POJLYY4R.js";import{Fa as w,Ha as D,J as v,Ja as g,Ka as f,La as o,Ma as l,Na as y,O as p,Oa as b,Pa as E,Ta as I,Ua as P,V as u,W as S,fa as T,na as _,pa as r,va as C,ya as h}from"./chunk-76RC743J.js";var c=class i{trendingScrollState=T(0);static \u0275fac=function(e){return new(e||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})};var A=["groupDiv"],F=(i,t)=>t.id;function H(i,t){if(i&1&&(o(0,"div"),y(1,"img",3),l()),i&2){let e=t.$implicit;r(),w("src",e.url,_)("alt",e.title)}}function j(i,t){if(i&1&&(o(0,"div",2),g(1,H,2,2,"div",null,F),l()),i&2){let e=t.$implicit;r(),f(e)}}var d=class i{gifService=p(R);scrollStateService=p(c);scrollDivRef=C("groupDiv");ngAfterViewInit(){let t=this.scrollDivRef()?.nativeElement;t&&(t.scrollTop=this.scrollStateService.trendingScrollState())}onScroll(t){let e=this.scrollDivRef()?.nativeElement;if(!e)return;let n=e.scrollTop,a=e.clientHeight,m=e.scrollHeight,s=n+a+300>=m;this.scrollStateService.trendingScrollState.set(n),s&&this.gifService.loadTrendingGifs()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-trending-page"]],viewQuery:function(e,n){e&1&&I(n.scrollDivRef,A,5),e&2&&P()},decls:4,vars:0,consts:[["groupDiv",""],[1,"h-screen","overflow-y-scroll","grid","grid-cols-2","md:grid-cols-4","gap-4","pt-4",3,"scroll"],[1,"grid","gap-4"],[1,"h-full","w-full","rounded-lg","object-cover",3,"src","alt"]],template:function(e,n){if(e&1){let a=b();o(0,"div",1,0),E("scroll",function(s){return u(a),S(n.onScroll(s))}),g(2,j,3,0,"div",2,D),l()}e&2&&(r(2),f(n.gifService.trendingGifGroup()))},encapsulation:2})};export{d as default};
