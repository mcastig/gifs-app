import{$a as g,H as c,J as f,O as m,a as p,ab as y,b as n,fa as e,lb as h,o as a}from"./chunk-VM3G7HVW.js";var s={production:!0,companyName:"Gifs",companyLastName:"App",companySlogan:"Manage your gifts",giphyApiKey:"0kdkz6VBzUNhjmMOAALlvBIRu3vNnk04",giphyUrl:"https://api.giphy.com/v1"};var o=class{static mapGiphyItemToGif(i){return{id:i.id,title:i.title,url:i.images.original.url}}static mapGiphyItemsToGifArray(i){return i.map(this.mapGiphyItemToGif)}};var G="gifs",d=()=>{let r=localStorage.getItem(G)??"{}";return JSON.parse(r)},l=class r{http=m(h);trendingGifs=e([]);trendingGifsLoading=e(!0);searchingGifsLoading=e(!0);searchHistory=e(d());searchHistoryKeys=g(()=>Object.keys(this.searchHistory()));constructor(){this.loadTrendingGifs()}saveGifsToLocalStorage=y(()=>{let i=JSON.stringify(this.searchHistory());localStorage.setItem(G,i)});loadTrendingGifs(){this.http.get(`${s.giphyUrl}/gifs/trending`,{params:{api_key:s.giphyApiKey,limit:20}}).subscribe(i=>{let t=o.mapGiphyItemsToGifArray(i.data);this.trendingGifs.set(t),this.trendingGifsLoading.set(!1)})}searchGifs(i){return this.http.get(`${s.giphyUrl}/gifs/search`,{params:{api_key:s.giphyApiKey,limit:20,q:i}}).pipe(a(({data:t})=>t),a(t=>o.mapGiphyItemsToGifArray(t)),c(t=>{this.searchHistory.update(u=>n(p({},u),{[i.toLocaleLowerCase()]:t}))}))}getHistoryGifs(i){return this.searchHistory()[i]??[]}static \u0275fac=function(t){return new(t||r)};static \u0275prov=f({token:r,factory:r.\u0275fac,providedIn:"root"})};export{s as a,l as b};
